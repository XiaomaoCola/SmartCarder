# Filebeat å¸¸ç”¨æ“ä½œå‘½ä»¤ç¬”è®°

è®°å½• Filebeat çš„æ¨¡å—å¯ç”¨ã€é…ç½®ã€è¿æ¥ Elasticsearchã€åŠ è½½ä»ªè¡¨ç›˜ç­‰å¸¸ç”¨å‘½ä»¤çš„ä½œç”¨ä¸è¯´æ˜ã€‚

---

## âœ… å¯ç”¨ Filebeat ç³»ç»Ÿæ¨¡å—

```bash
sudo filebeat modules enable system
```

ğŸ”¸ å¯ç”¨åä¸º `system` çš„æ¨¡å—ï¼Œç”¨äºæ”¶é›†ç³»ç»Ÿæ—¥å¿—ï¼ˆå¦‚ ssh ç™»å½•ã€ç³»ç»Ÿæ¶ˆæ¯ç­‰ï¼‰ã€‚  
ğŸ”¸ æ¯ä¸ªæ¨¡å—å°è£…äº†ä¸€ç»„æ—¥å¿—é‡‡é›†è§„åˆ™ï¼Œå»ºè®®å…ˆä» `system` å¼€å§‹ã€‚

---

## ğŸ› ï¸ åŠ è½½ Filebeat çš„é»˜è®¤ä»ªè¡¨ç›˜åˆ° Kibana

```bash
sudo filebeat setup --dashboards
```

ğŸ”¸ è‡ªåŠ¨å°† Filebeat æä¾›çš„å†…ç½®ä»ªè¡¨ç›˜ä¸Šä¼ åˆ° Kibanaï¼Œä¾¿äºæŸ¥çœ‹æ—¥å¿—å›¾è¡¨ã€‚  
ğŸ”¸ å‰ææ˜¯ `filebeat.yml` ä¸­çš„ Elasticsearch å’Œ Kibana åœ°å€å·²é…ç½®æ­£ç¡®ã€‚

---

## ğŸ§° åˆå§‹åŒ– Filebeat æ‰€æœ‰è®¾ç½®ï¼ˆå«ç´¢å¼•æ¨¡æ¿ã€ä»ªè¡¨ç›˜ç­‰ï¼‰

```bash
sudo filebeat setup
```

ğŸ”¸ ä¸€é”®åˆå§‹åŒ–é…ç½®ï¼Œé€‚åˆåˆæ¬¡éƒ¨ç½²æ—¶ä½¿ç”¨ã€‚  
ğŸ”¸ åŒ…æ‹¬ï¼šç´¢å¼•æ¨¡æ¿ã€Ingest Pipelineã€ä»ªè¡¨ç›˜ç­‰ã€‚

---

## ğŸš€ å¯åŠ¨ Filebeat æœåŠ¡

```bash
sudo systemctl start filebeat
```

ğŸ”¸ å¯åŠ¨ Filebeat åå°æœåŠ¡ï¼Œå¼€å§‹å®æ—¶é‡‡é›†æ—¥å¿—å¹¶å‘é€åˆ° Elasticsearchã€‚  
ğŸ”¸ éœ€ç¡®ä¿é…ç½®æ–‡ä»¶æ­£ç¡®ï¼Œå°¤å…¶æ˜¯ `output.elasticsearch.hosts`ã€‚

---

## ğŸ”„ é‡å¯ Filebeat æœåŠ¡

```bash
sudo systemctl restart filebeat
```

ğŸ”¸ é…ç½®æ–‡ä»¶æ›´æ”¹åä½¿ç”¨ï¼Œé‡æ–°åŠ è½½å¹¶è¿è¡Œ Filebeatã€‚  
ğŸ”¸ é€‚ç”¨äºä¿®æ”¹ `filebeat.yml` åã€‚

---

## ğŸ” æŸ¥çœ‹ Filebeat æœåŠ¡çŠ¶æ€

```bash
sudo systemctl status filebeat
```

ğŸ”¸ æ£€æŸ¥æœåŠ¡æ˜¯å¦æ­£å¸¸è¿è¡Œï¼Œæœ‰æ— é”™è¯¯ã€‚  
ğŸ”¸ `active (running)` è¡¨ç¤ºè¿è¡Œæ­£å¸¸ï¼›å¦‚æœ‰æŠ¥é”™å¯ç»§ç»­æŸ¥çœ‹æ—¥å¿—ã€‚

---

## ğŸ§¾ æŸ¥çœ‹ Filebeat æ—¥å¿—ï¼ˆå®æ—¶ï¼‰

```bash
sudo journalctl -fu filebeat
```

ğŸ”¸ å®æ—¶æŸ¥çœ‹ Filebeat æ—¥å¿—è¾“å‡ºï¼Œé€‚åˆæ’æŸ¥è¿æ¥é—®é¢˜ã€æ ¼å¼é”™è¯¯ç­‰ã€‚  
ğŸ”¸ `-f` è¡¨ç¤ºå®æ—¶ï¼Œ`-u filebeat` æŒ‡å®šæœåŠ¡ã€‚

---

ğŸ“ è¯´æ˜ï¼š
- æ‰€æœ‰å‘½ä»¤éœ€åœ¨é…ç½®å¥½ `filebeat.yml` åå†æ‰§è¡Œ
- æ¨èä½¿ç”¨ `sudo` è¿è¡Œï¼Œé¿å…æƒé™é—®é¢˜